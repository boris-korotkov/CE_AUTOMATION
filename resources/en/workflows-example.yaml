scenarios:
  - name: Supply_Depot_Farming
    description: Collect resources from the supply depot by refreshing until a specific item appears.
    steps:
      - delay: 5 # Wait for game to load
      - set: { counter: 0 }
      - log: "Starting Supply Depot farming."
      - while:
          condition: "not compare_with_image(100, 150, 50, 50, '3red_blueprints.png', 0.85) and counter < 10"
          do:
            - log: "Blueprints not found. Refreshing store. Attempt #{{counter + 1}}"
            - click: [300, 450] # Click "Refresh" button
            - delay: 2
            - increment: counter
      - if:
          condition: compare_with_image(100, 150, 50, 50, '3red_blueprints.png', 0.85)
          then:
            - log: "Found 3 red blueprints. Attempting to purchase."
            - click: [125, 175] # Click on the blueprint item
            - delay: 2
            - click: [400, 500] # Click "Buy"
            - delay: 2
            - click: [400, 500] # Click "Claim" or "Confirm"
            - send_email: 'Clone Evolution Bot: Successfully purchased 3 red blueprints!'
          else:
            - log: "Could not find blueprints after 10 refreshes."
      - if:
          condition: compare_with_image(20, 20, 100, 100, 'back-arrow.png', 0.85)
          then:
            - click: [25, 25] # Click back arrow
      - log: "Supply Depot farming finished."

  - name: Guild_Event_Check
    description: Checks if the guild event is active.
    steps:
      - if:
          condition: compare_with_text(150, 200, 100, 30, 'Guild')
          then:
            - click: [200, 215] # Click on Guild button
            - delay: 3
            - send_email: "Guild Event might be active. Please check."